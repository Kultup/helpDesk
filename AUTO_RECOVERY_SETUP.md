# üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏

## üìã –©–æ —Ü–µ –¥–∞—î?

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- ‚úÖ **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î** –ø—Ä–æ—Ü–µ—Å–∏ –ø—Ä–∏ –ø–∞–¥—ñ–Ω–Ω—ñ (PM2)
- ‚úÖ **–ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å** –∑–¥–æ—Ä–æ–≤'—è —Å–∏—Å—Ç–µ–º–∏ –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω
- ‚úÖ **–í—ñ–¥–Ω–æ–≤–ª—é—î** MongoDB, Redis —è–∫—â–æ –≤–æ–Ω–∏ –≤–ø–∞–ª–∏
- ‚úÖ **–ó–≤—ñ–ª—å–Ω—è—î** –∑–∞–π–Ω—è—Ç—ñ –ø–æ—Ä—Ç–∏ –ø—ñ—Å–ª—è –≤–∏–º–∫–Ω–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞
- ‚úÖ **–ü–µ—Ä–µ–≤—ñ—Ä—è—î** health endpoints
- ‚úÖ **–ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ—Å–ª—è reboot

---

## üöÄ –®–≤–∏–¥–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```bash
cd /srv/helpDesk

# 1. –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–¥ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ webhook)
git pull

# 2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo ./scripts/setup-autostart.sh

# 3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
sudo ./scripts/setup-monitoring.sh

# –ì–æ—Ç–æ–≤–æ! ‚úÖ
```

---

## üìä –©–æ –ø—Ä–∞—Ü—é—î –ø—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. PM2 Auto-Restart

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î –ø—Ä–æ—Ü–µ—Å —è–∫—â–æ –≤—ñ–Ω –ø–∞–¥–∞—î
- –ú–∞–∫—Å–∏–º—É–º 10 –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—ñ–≤ –ø—ñ–¥—Ä—è–¥
- –ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ –º—ñ–∂ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏

**–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `ecosystem.config.js`:**
```javascript
autorestart: true,
max_restarts: 10,
min_uptime: '10s',
restart_delay: 4000
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –í–±–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å
pm2 stop helpdesk-backend

# PM2 –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥–∏
pm2 list
```

---

### 2. Cron Health Monitor

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î MongoDB, Redis, Backend, Frontend
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î —è–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î
- –ó–≤—ñ–ª—å–Ω—è—î –∑–∞–π–Ω—è—Ç—ñ –ø–æ—Ä—Ç–∏

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –î–∏–≤–∏—Ç–∏—Å—å –ª–æ–≥–∏
tail -f /srv/helpDesk/backend/logs/health-monitor.log

# –°–ø–∏—Å–æ–∫ cron jobs
crontab -l
```

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
```bash
# –ó—É–ø–∏–Ω–∏—Ç–∏ backend
pm2 stop helpdesk-backend

# –ó–∞—á–µ–∫–∞—Ç–∏ 5 —Ö–≤–∏–ª–∏–Ω —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏
tail -f /srv/helpDesk/backend/logs/health-monitor.log

# –ú–∞—î –∑'—è–≤–∏—Ç–∏—Å—å:
# ‚ùå Backend health check failed! –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫...
# ‚úÖ Backend –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–æ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
```

---

### 3. Systemd Timer (–¥–æ–¥–∞—Ç–∫–æ–≤–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å)

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –î—É–±–ª—é—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª cron
- –ó–∞–ø—É—Å–∫–∞—î –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω —á–µ—Ä–µ–∑ systemd

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –°—Ç–∞—Ç—É—Å timer
systemctl status helpdesk-monitor.timer

# –õ–æ–≥–∏
journalctl -u helpdesk-monitor.service -f
```

---

### 4. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—ñ—Å–ª—è reboot

**–©–æ —Ä–æ–±–∏—Ç—å:**
- PM2 –ø—Ä–æ—Ü–µ—Å–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–∞ –∑–≤—ñ–ª—å–Ω—è—î –ø–æ—Ä—Ç–∏
- –ó–∞–ø—É—Å–∫–∞—î MongoDB, Redis —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –°—Ç–∞—Ç—É—Å
systemctl status helpdesk-check.service

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
sudo reboot

# –ü—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
pm2 list  # –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å–∏ online
```

---

### 5. –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø–æ—Ä—Ç—ñ–≤

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –ø–æ—Ä—Ç–∏ 5000, 3000 –∑–∞–π–Ω—è—Ç—ñ
- –ó–≤—ñ–ª—å–Ω—è—î –ø–æ—Ä—Ç–∏ —è–∫—â–æ –∑–∞–π–Ω—è—Ç—ñ
- –ó–∞–ø—É—Å–∫–∞—î —Å–∏—Å—Ç–µ–º—É

**–†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫:**
```bash
sudo /srv/helpDesk/scripts/check-and-start.sh
```

**–í–∏–≤—ñ–¥:**
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë   HelpDesk System Startup Check & Recovery Script         ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ MongoDB...
‚úÖ MongoDB –ø—Ä–∞—Ü—é—î

üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Redis...
‚úÖ Redis –ø—Ä–∞—Ü—é—î

üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ä—Ç—ñ–≤...
‚úÖ –ü–æ—Ä—Ç 5000 (Backend) –≤—ñ–ª—å–Ω–∏–π
‚úÖ –ü–æ—Ä—Ç 3000 (Frontend) –≤—ñ–ª—å–Ω–∏–π

üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ PM2 –ø—Ä–æ—Ü–µ—Å—ñ–≤...
‚úÖ –í—Å—ñ PM2 –ø—Ä–æ—Ü–µ—Å–∏ –ø—Ä–∞—Ü—é—é—Ç—å

üè• Health check...
‚úÖ Backend health check OK

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                  ‚úÖ –°–ò–°–¢–ï–ú–ê –ó–ê–ü–£–©–ï–ù–ê                       ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

---

## üîß –°—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –í–∏–º–∫–Ω–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
1. –°–≤—ñ—Ç–ª–æ –≤–∏–º–∫–Ω—É–ª–æ—Å—å ‚Üí —Å–µ—Ä–≤–µ—Ä –≤–∏–º–∫–Ω—É–≤—Å—è
2. –°–≤—ñ—Ç–ª–æ –∑'—è–≤–∏–ª–æ—Å—å ‚Üí —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—Å—è
3. **Systemd –∑–∞–ø—É—Å–∫–∞—î** `helpdesk-check.service`
4. –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–æ—Ä—Ç–∏ (–º–æ–∂—É—Ç—å –±—É—Ç–∏ –∑–∞–π–Ω—è—Ç—ñ —Å—Ç–∞—Ä–∏–º–∏ –ø—Ä–æ—Ü–µ—Å–∞–º–∏)
5. –ó–≤—ñ–ª—å–Ω—è—î –ø–æ—Ä—Ç–∏ —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
6. –ó–∞–ø—É—Å–∫–∞—î MongoDB, Redis
7. PM2 –∑–∞–ø—É—Å–∫–∞—î backend, frontend
8. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î

**–í–∏ –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏—Ç–µ - –≤—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!**

---

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: Backend —É–ø–∞–≤

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
1. Backend –ø—Ä–æ—Ü–µ—Å —É–ø–∞–≤ (out of memory, exception, etc.)
2. **PM2 auto-restart** –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥–∏
3. –Ø–∫—â–æ –Ω–µ –¥–æ–ø–æ–º–æ–≥–ª–æ ‚Üí —á–µ—Ä–µ–∑ 5 —Ö–≤–∏–ª–∏–Ω **health monitor** –≤–∏—è–≤–ª—è—î
4. Health monitor –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î PM2
5. –Ø–∫—â–æ –Ω–µ –¥–æ–ø–æ–º–æ–≥–ª–æ ‚Üí –∑–∞–ø—É—Å–∫–∞—î –ø–æ–≤–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É
6. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π downtime: 5-10 —Ö–≤–∏–ª–∏–Ω**

---

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: MongoDB –Ω–µ –ø—Ä–∞—Ü—é—î

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
1. MongoDB —É–ø–∞–ª–∞ (OOM, crash, etc.)
2. Backend –Ω–µ –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å
3. Health monitor –≤–∏—è–≤–ª—è—î —á–µ—Ä–µ–∑ 5 —Ö–≤–∏–ª–∏–Ω
4. –ó–∞–ø—É—Å–∫–∞—î MongoDB: `systemctl start mongod`
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î backend
6. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î

---

### –°—Ü–µ–Ω–∞—Ä—ñ–π 4: –ü–æ—Ä—Ç–∏ –∑–∞–π–Ω—è—Ç—ñ

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
1. –ü—ñ—Å–ª—è reboot —Å—Ç–∞—Ä—ñ –ø—Ä–æ—Ü–µ—Å–∏ –∑–∞–π–Ω—è–ª–∏ –ø–æ—Ä—Ç–∏
2. PM2 –Ω–µ –º–æ–∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ backend/frontend
3. **Startup script** –≤–∏—è–≤–ª—è—î –∑–∞–π–Ω—è—Ç—ñ –ø–æ—Ä—Ç–∏
4. –í–±–∏–≤–∞—î –ø—Ä–æ—Ü–µ—Å–∏: `kill -9`
5. –ó–∞–ø—É—Å–∫–∞—î PM2
6. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

**Health Monitor:**
```bash
tail -f /srv/helpDesk/backend/logs/health-monitor.log
```

**Cron:**
```bash
tail -f /srv/helpDesk/backend/logs/cron.log
```

**PM2 Backend:**
```bash
pm2 logs helpdesk-backend
```

**PM2 Frontend:**
```bash
pm2 logs helpdesk-frontend
```

**Systemd:**
```bash
journalctl -u helpdesk-monitor.service -f
journalctl -u helpdesk-check.service -f
```

---

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**PM2:**
```bash
pm2 list
pm2 monit
pm2 info helpdesk-backend
```

**Systemd:**
```bash
systemctl status helpdesk-monitor.timer
systemctl status helpdesk-check.service
```

**Cron:**
```bash
crontab -l
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –¢–µ—Å—Ç 1: PM2 Auto-Restart

```bash
# –ó—É–ø–∏–Ω–∏—Ç–∏ backend
pm2 stop helpdesk-backend

# –ó–∞—á–µ–∫–∞—Ç–∏ 5 —Å–µ–∫—É–Ω–¥
sleep 5

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ - –º–∞—î –±—É—Ç–∏ online
pm2 list
```

---

### –¢–µ—Å—Ç 2: Health Monitor

```bash
# –í–±–∏—Ç–∏ backend –ø—Ä–æ—Ü–µ—Å
pm2 kill

# –î–∏–≤–∏—Ç–∏—Å—å –ª–æ–≥–∏
tail -f /srv/helpDesk/backend/logs/health-monitor.log

# –ß–µ—Ä–µ–∑ 5 —Ö–≤–∏–ª–∏–Ω —Å–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–Ω–æ–≤–∏—Ç—å—Å—è
```

---

### –¢–µ—Å—Ç 3: –ü–æ—Ä—Ç–∏ –∑–∞–π–Ω—è—Ç—ñ

```bash
# –°–∏–º—É–ª—è—Ü—ñ—è: –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —â–æ—Å—å –Ω–∞ –ø–æ—Ä—Ç—É 5000
python3 -m http.server 5000 &

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç
sudo /srv/helpDesk/scripts/check-and-start.sh

# –ú–∞—î –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –ø–æ—Ä—Ç —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É
```

---

### –¢–µ—Å—Ç 4: Reboot

```bash
# –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
sudo reboot

# –ü—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
pm2 list  # –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å–∏ online
curl http://localhost:5000/api/health  # –ú–∞—î –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ OK
```

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

**Cron (–∑–∞—Ä–∞–∑: –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω):**
```bash
crontab -e

# –ó–º—ñ–Ω–∏—Ç–∏ –Ω–∞ –∫–æ–∂–Ω—ñ 3 —Ö–≤–∏–ª–∏–Ω–∏:
*/3 * * * * /srv/helpDesk/scripts/health-monitor.sh
```

**Systemd Timer:**
```bash
sudo nano /etc/systemd/system/helpdesk-monitor.timer

# –ó–º—ñ–Ω–∏—Ç–∏:
OnUnitActiveSec=3min  # –∑–∞–º—ñ—Å—Ç—å 5min

sudo systemctl daemon-reload
sudo systemctl restart helpdesk-monitor.timer
```

---

### –ó–º—ñ–Ω–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—ñ–≤

**ecosystem.config.js:**
```javascript
max_restarts: 20,  // –∑–∞–º—ñ—Å—Ç—å 10
restart_delay: 2000,  // 2 —Å–µ–∫—É–Ω–¥–∏ –∑–∞–º—ñ—Å—Ç—å 4
```

–ü—ñ—Å–ª—è –∑–º—ñ–Ω–∏:
```bash
pm2 delete all
pm2 start ecosystem.config.js
pm2 save
```

---

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç–∏ –Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ù–∞–¥–∞—Ç–∏ –ø—Ä–∞–≤–∞
sudo chmod +x /srv/helpDesk/scripts/*.sh

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∞
ls -la /srv/helpDesk/scripts/
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: Cron –Ω–µ –ø—Ä–∞—Ü—é—î

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –î–∏–≤–∏—Ç–∏—Å—å cron –ª–æ–≥–∏
grep CRON /var/log/syslog

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ crontab
crontab -l

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ cron
sudo systemctl restart cron
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: PM2 –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î –ø—Ä–æ—Ü–µ—Å–∏

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
pm2 save
pm2 startup systemd
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: MongoDB –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
sudo systemctl status mongod
sudo journalctl -u mongod -n 100
```

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:**
- –ù–µ–º–∞—î –º—ñ—Å—Ü—è –Ω–∞ –¥–∏—Å–∫—É
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª–∏
- Port 27017 –∑–∞–π–Ω—è—Ç–∏–π

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

- [ ] –û–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–¥: `git pull`
- [ ] –ó–∞–ø—É—â–µ–Ω–æ setup-autostart: `sudo ./scripts/setup-autostart.sh`
- [ ] –ó–∞–ø—É—â–µ–Ω–æ setup-monitoring: `sudo ./scripts/setup-monitoring.sh`
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ PM2: `pm2 list` ‚Üí –≤—Å—ñ online
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ cron: `crontab -l` ‚Üí —î health-monitor
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ systemd: `systemctl status helpdesk-monitor.timer` ‚Üí active
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ reboot: `sudo reboot` ‚Üí –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å–µ –ø—Ä–∞—Ü—é—î
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –ø–∞–¥—ñ–Ω–Ω—è: `pm2 stop all` ‚Üí —á–µ—Ä–µ–∑ 5 —Ö–≤ –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è

---

## üéä –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–∞–¥—ñ–Ω–Ω—ñ
- ‚úÖ –í—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –≤–∏–º–∫–Ω–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞
- ‚úÖ –ó–≤—ñ–ª—å–Ω—è—î –∑–∞–π–Ω—è—Ç—ñ –ø–æ—Ä—Ç–∏
- ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤'—è –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω
- ‚úÖ –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è reboot

**–í–∏ –º–æ–∂–µ—Ç–µ —Å–ø–æ–∫—ñ–π–Ω–æ —Å–ø–∞—Ç–∏!** üò¥üöÄ

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 2026-02-05
